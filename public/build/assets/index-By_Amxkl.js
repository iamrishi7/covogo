import{U as g,j as m,r as c,t as z}from"./app-Nest5T8a.js";import{c as L,b as J,a as w,u as Q}from"./index-rpYF5nm5.js";import{u as P,e as G}from"./app-logo-icon-DyEEkCCr.js";import{P as j}from"./index-CCsWvShg.js";function W(e){const t=e+"CollectionProvider",[s,r]=L(t),[A,v]=s(t,{collectionRef:{current:null},itemMap:new Map}),I=f=>{const{scope:o,children:a}=f,d=g.useRef(null),n=g.useRef(new Map).current;return m.jsx(A,{scope:o,itemMap:n,collectionRef:d,children:a})};I.displayName=t;const C=e+"CollectionSlot",_=G(C),p=g.forwardRef((f,o)=>{const{scope:a,children:d}=f,n=v(C,a),u=P(o,n.collectionRef);return m.jsx(_,{ref:u,children:d})});p.displayName=C;const i=e+"CollectionItemSlot",R="data-radix-collection-item",E=G(i),S=g.forwardRef((f,o)=>{const{scope:a,children:d,...n}=f,u=g.useRef(null),x=P(o,u),T=v(i,a);return g.useEffect(()=>(T.itemMap.set(u,{ref:u,...n}),()=>void T.itemMap.delete(u))),m.jsx(E,{[R]:"",ref:x,children:d})});S.displayName=i;function F(f){const o=v(e+"CollectionConsumer",f);return g.useCallback(()=>{const d=o.collectionRef.current;if(!d)return[];const n=Array.from(d.querySelectorAll(`[${R}]`));return Array.from(o.itemMap.values()).sort((T,h)=>n.indexOf(T.ref.current)-n.indexOf(h.ref.current))},[o.collectionRef,o.itemMap])}return[{Provider:I,Slot:p,ItemSlot:S},F,r]}var X=z[" useId ".trim().toString()]||(()=>{}),Z=0;function ee(e){const[t,s]=c.useState(X());return J(()=>{s(r=>r??String(Z++))},[e]),e||(t?`radix-${t}`:"")}function te(e){const t=c.useRef(e);return c.useEffect(()=>{t.current=e}),c.useMemo(()=>(...s)=>{var r;return(r=t.current)==null?void 0:r.call(t,...s)},[])}var oe=c.createContext(void 0);function re(e){const t=c.useContext(oe);return e||t||"ltr"}var N="rovingFocusGroup.onEntryFocus",ne={bubbles:!1,cancelable:!0},y="RovingFocusGroup",[D,K,ce]=W(y),[se,Se]=L(y,[ce]),[ue,ie]=se(y),U=c.forwardRef((e,t)=>m.jsx(D.Provider,{scope:e.__scopeRovingFocusGroup,children:m.jsx(D.Slot,{scope:e.__scopeRovingFocusGroup,children:m.jsx(ae,{...e,ref:t})})}));U.displayName=y;var ae=c.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:A=!1,dir:v,currentTabStopId:I,defaultCurrentTabStopId:C,onCurrentTabStopIdChange:_,onEntryFocus:p,preventScrollOnEntryFocus:i=!1,...R}=e,E=c.useRef(null),S=P(t,E),F=re(v),[f,o]=Q({prop:I,defaultProp:C??null,onChange:_,caller:y}),[a,d]=c.useState(!1),n=te(p),u=K(s),x=c.useRef(!1),[T,h]=c.useState(0);return c.useEffect(()=>{const l=E.current;if(l)return l.addEventListener(N,n),()=>l.removeEventListener(N,n)},[n]),m.jsx(ue,{scope:s,orientation:r,dir:F,loop:A,currentTabStopId:f,onItemFocus:c.useCallback(l=>o(l),[o]),onItemShiftTab:c.useCallback(()=>d(!0),[]),onFocusableItemAdd:c.useCallback(()=>h(l=>l+1),[]),onFocusableItemRemove:c.useCallback(()=>h(l=>l-1),[]),children:m.jsx(j.div,{tabIndex:a||T===0?-1:0,"data-orientation":r,...R,ref:S,style:{outline:"none",...e.style},onMouseDown:w(e.onMouseDown,()=>{x.current=!0}),onFocus:w(e.onFocus,l=>{const Y=!x.current;if(l.target===l.currentTarget&&Y&&!a){const O=new CustomEvent(N,ne);if(l.currentTarget.dispatchEvent(O),!O.defaultPrevented){const M=u().filter(b=>b.focusable),H=M.find(b=>b.active),$=M.find(b=>b.id===f),q=[H,$,...M].filter(Boolean).map(b=>b.ref.current);V(q,i)}}x.current=!1}),onBlur:w(e.onBlur,()=>d(!1))})})}),k="RovingFocusGroupItem",B=c.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:A=!1,tabStopId:v,children:I,...C}=e,_=ee(),p=v||_,i=ie(k,s),R=i.currentTabStopId===p,E=K(s),{onFocusableItemAdd:S,onFocusableItemRemove:F,currentTabStopId:f}=i;return c.useEffect(()=>{if(r)return S(),()=>F()},[r,S,F]),m.jsx(D.ItemSlot,{scope:s,id:p,focusable:r,active:A,children:m.jsx(j.span,{tabIndex:R?0:-1,"data-orientation":i.orientation,...C,ref:t,onMouseDown:w(e.onMouseDown,o=>{r?i.onItemFocus(p):o.preventDefault()}),onFocus:w(e.onFocus,()=>i.onItemFocus(p)),onKeyDown:w(e.onKeyDown,o=>{if(o.key==="Tab"&&o.shiftKey){i.onItemShiftTab();return}if(o.target!==o.currentTarget)return;const a=de(o,i.orientation,i.dir);if(a!==void 0){if(o.metaKey||o.ctrlKey||o.altKey||o.shiftKey)return;o.preventDefault();let n=E().filter(u=>u.focusable).map(u=>u.ref.current);if(a==="last")n.reverse();else if(a==="prev"||a==="next"){a==="prev"&&n.reverse();const u=n.indexOf(o.currentTarget);n=i.loop?me(n,u+1):n.slice(u+1)}setTimeout(()=>V(n))}}),children:typeof I=="function"?I({isCurrentTabStop:R,hasTabStop:f!=null}):I})})});B.displayName=k;var le={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function fe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function de(e,t,s){const r=fe(e.key,s);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return le[r]}function V(e,t=!1){const s=document.activeElement;for(const r of e)if(r===s||(r.focus({preventScroll:t}),document.activeElement!==s))return}function me(e,t){return e.map((s,r)=>e[(t+r)%e.length])}var be=U,ge=B;export{ge as I,be as R,ee as a,te as b,Se as c,W as d,re as u};
